buildscript {
    dependencies {
        classpath("org.jetbrains.dokka:versioning-plugin:1.8.20")
    }
}

plugins {
    alias libs.plugins.android.application apply false
    alias libs.plugins.android.library apply false
    alias libs.plugins.kotlin.android apply false
    alias libs.plugins.kotlinx.serialization.plugin apply false
    alias libs.plugins.sonarqube apply false
    alias libs.plugins.jacoco apply false
    alias libs.plugins.navigation.safe.args apply false
    alias libs.plugins.kapt apply false
    alias libs.plugins.parcelable apply false
    alias libs.plugins.dokka
}

version = 'YYYYMMDD'

//subprojects {
////    repositories {
////        mavenCentral()
////    }
//    apply {
////        plugin("org.jetbrains.kotlin.jvm")
//        plugin("org.jetbrains.dokka")
//    }
//    val dokkaPlugin by configurations
//    dependencies {
//        dokkaPlugin("org.jetbrains.dokka:versioning-plugin:1.8.20")
//    }
//}

tasks.dokkaHtmlMultiModule {
    moduleName.set(rootProject.name)
    // This has it output to the root directory. Default is to put it in build/dokka.
    // outputDirectory.set(file(version+"/documentation"))
    pluginConfiguration<org.jetbrains.dokka.versioning.VersioningPlugin, org.jetbrains.dokka.versioning.VersioningConfiguration> {
        version = currentVersion
        olderVersionsDir = file(previousVersionsDirectory)
    }

}